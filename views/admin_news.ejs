<!DOCTYPE html>
<html lang="it">
<head>
	<title>Amministrazione news</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="/css/admin_panel.css">
	<link rel="stylesheet" href="/css/materialize.min.css">
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script src="/js/admin_news_script.js" type="text/javascript"></script>
</head>
<body>
	<div class="container">
		<h4 class="flow-text">In questa sezione puoi amministrare le news</h4>
		<ul class="collapsible black-text grey lighten-2">
			<li>
				<div class="collapsible-header">
					<i class="material-icons">fiber_new</i>Aggiungi news
				</div>
				<div class="collapsible-body">
					<div class="input-field">
						<input id="expire_date_add_input" type="date" class="validate">
					</div>
					<div class="input-field">
						<input id="title_add_input" type="text" class="validate">
						<label for="title_add_input">Titolo:</label>
					</div>
					<div class="input-field">
						<textarea id="content_add_input" type="text" class="materialize-textarea" data-length="100"></textarea>
						<label for="content_add_input">Contenuto:</label>
					</div>
					<button id="news_add_btn" class="btn waves-effect waves-light deep-orange darken-3">Inserisci</button>
				</div>
			</li>
			<li>
				<div class="collapsible-header">
					<i class="material-icons">refresh</i>Aggiorna news
				</div>
				<div class="collapsible-body">
					<div class="input-field">
					<select id="news_select">
						<option value="" disabled selected>Scegli la news:</option>
						<% if (news) { %>
							<% for (var i in news) { %>
								<option value="<%= news[i].id %>_<%= news[i].title %>"><%= news[i].title %></option>
							<% } %>
						<% } %>
					</select>
					</div>
					<div class="input-field">
						<input id="expire_date_update_input" type="date" class="validate">
					</div>
					<div class="input-field">
						<input id="title_update_input" type="text" class="validate">
						<label for="title_update_input">Titolo:</label>
					</div>
					<div class="input-field">
						<textarea id="content_update_input" type="text" class="materialize-textarea" data-length="100"></textarea>
						<label for="content_update_input">Contenuto:</label>
					</div>
					<button id="news_update_btn" class="btn waves-effect waves-light deep-orange darken-3">Aggiorna</button>
				</div>
			</li>
		</ul>

		<% if(all_news) { %>
			<ul class="collapsible black-text grey lighten-2">
				<% for(var i in all_news) { %>
					<li>
						<div class="collapsible-header">
							<%= all_news[i].title %>
						</div>
						<div class="collapsible-body">
							<%= all_news[i].content %>
							<br>
							<button id="<%= all_news[i].id %>" class="remove-btn btn-floating waves-light waves-effect red"><i class="material-icons">delete</i></button>
						</div>
					</li>
				<% } %>
			</ul>
		<% } %>
	</div>

	<script type="text/javascript" src="/js/materialize.min.js"></script>
</body>